var FileWriter = require('./file_writer').FileWriter;
var Client = require('./zoopla_client').Client;


var apiKey = 'mz26trd9n5se8dd4dyra5unz';
var baseURL = 'http://api.zoopla.co.uk/api/v1/property_listings.js';
var baseFilePath = '../json/';
var params = {};

var barratt_branches = [
	'57384',
	'54685',
	'53374',
	'58342',
	'47748',
	'57245',
	'47735',
	'47727',
	'31820',
	'33466',
	'58006',
	'31129',
	'52605',
	'53553',
	'31252',
	'32797',
	'58319',
	'57764',
	'57763',
	'52319',
	'59068',
	'47734',
	'47717',
	'31245',
	'59397',
	'47725',
	'53548',
	'33432',
	'31250',
	'32819',
	'53551',
	'47751',
	'59403',
	'52646',
	'52656',
	'58019',
	'58249',
	'58631',
	'47739',
	'53550',
	'31212',
	'31210',
	'58017',
	'47736',
	'34044',
	'54062',
	'31318',
	'57633',
	'52637',
	'47841',
	'56988',
	'32791',
	'31267',
	'56982',
	'47737',
	'47820',
	'56969',
	'52622',
	'47715',
	'31265',
	'57632',
	'31266',
	'52604',
	'31254',
	'47750',
	'54063',
	'58024',
	'31103',
	'31099',
	'32817',
	'57484',
	'31098',
	'54399',
	'59405',
	'58012',
	'52417',
	'52602',
	'52642',
	'31281',
	'33825',
	'56958',
	'52599',
	'51740',
	'33818',
	'31283',
	'31274',
	'56955',
	'52425',
	'52598',
	'53547',
	'51725',
	'56975',
	'47713',
	'31279',
	'56974',
	'31178',
	'47857',
	'31182',
	'56983',
	'31187',
	'31189',
	'31179',
	'58626',
	'31186',
	'31188',
	'52603',
	'31735',
	'57994',
	'56981',
	'52632',
	'31202',
	'58343',
	'31199',
	'31322',
	'59022',
	'32812',
	'52320',
	'31029',
	'31025',
	'58008',
	'31021',
	'58498',
	'52627',
	'56446',
	'31023',
	'52612',
	'31030',
	'31853',
	'57629',
	'31220',
	'57448',
	'31807',
	'33431',
	'56990',
	'58567',
	'56984',
	'58568',
	'58429',
	'47721',
	'52658',
	'57993',
	'33828',
	'31205',
	'58428',
	'53555',
	'31233',
	'33908',
	'47718',
	'31238',
	'31239',
	'31237',
	'31229',
	'31241',
	'31801',
	'31228',
	'54682',
	'31234',
	'54684',
	'59146',
	'57995',
	'58501',
	'53014',
	'59197',
	'54246',
	'31738',
	'31736',
	'58627',
	'59147',
	'31290',
	'58346',
	'59996',
	'52611',
	'56954',
	'33817',
	'56965',
	'31845',
	'32823',
	'58566',
	'31293',
	'33907',
	'58345',
	'58020',
	'58014',
	'31818',
	'57743',
	'31855',
	'31159',
	'52997',
	'31158',
	'57385',
	'31155',
	'59343',
	'52616',
	'34057',
	'59342',
	'31154',
	'59402',
	'53011',
	'53018',
	'53571',
	'58322',
	'31171',
	'59994',
	'31169',
	'59969',
	'31092',
	'53786',
	'54398',
	'31089',
	'54402',
	'58329',
	'31083',
	'57979',
	'53560'
];



var fileWriter = new FileWriter(baseFilePath);
var i;
var client;
for (i = 0; i < 1; i++) {
	params = {
		"branch_id": barratt_branches[i]
	};


	//console.log(params)
	fileWriter.assignNewName(barratt_branches[i]);
	client = new Client(apiKey, params, baseURL);
	client.requestData();
}